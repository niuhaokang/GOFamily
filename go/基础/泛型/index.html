<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.36">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <link rel="shortcut icon" type="image/x-icon" href="/GOFamily/favicon.ico"><script src="https://www.googletagmanager.com/gtag/js?id=G-GFKQEFHX3B"></script><script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
  
    gtag('config', 'G-GFKQEFHX3B');
    
    </script><title>æ³›å‹ | GOFamily - go åç«¯ç¨‹åºå‘˜å®å…¸</title><meta name="description" content="ğŸ”¥ go åç«¯ç¨‹åºå‘˜å®å…¸ï¼ŒåŒ…å«äº†ï¼šç®—æ³•ï¼Œæ•°æ®åº“ï¼Œç½‘ç»œæ“ä½œç³»ç»Ÿï¼Œåˆ†å¸ƒå¼ï¼Œç³»ç»Ÿè®¾è®¡ç­‰ä¸€æ½å­çŸ¥è¯†ä½“ç³»">
    <link rel="modulepreload" href="/GOFamily/assets/app.1caf3c2c.js"><link rel="modulepreload" href="/GOFamily/assets/index.html.a557fe5c.js"><link rel="modulepreload" href="/GOFamily/assets/index.html.e2282900.js"><link rel="modulepreload" href="/GOFamily/assets/plugin-vue_export-helper.21dcd24c.js">
    <link rel="stylesheet" href="/GOFamily/assets/style.e57fd7d2.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header ref_key="navbar" class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/GOFamily/" class=""><img class="logo" src="https://avatars.githubusercontent.com/u/42873232" alt="GOFamily - go åç«¯ç¨‹åºå‘˜å®å…¸"><span class="site-name can-hide">GOFamily - go åç«¯ç¨‹åºå‘˜å®å…¸</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a href="/GOFamily/" class="" aria-label="é¦–é¡µ"><!--[--><!--]--> é¦–é¡µ <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/shgopher/GOFamily" rel="noopener noreferrer" target="_blank" aria-label="Github"><!--[--><!--]--> Github <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-item"><a href="/GOFamily/#wechat.png" class="" aria-label="å¾®ä¿¡å…¬ä¼—å·"><!--[--><!--]--> å¾®ä¿¡å…¬ä¼—å· <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/shgopher" rel="noopener noreferrer" target="_blank" aria-label="ä½œè€…"><!--[--><!--]--> ä½œè€… <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-dark-button" title="toggle dark mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a href="/GOFamily/" class="" aria-label="é¦–é¡µ"><!--[--><!--]--> é¦–é¡µ <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/shgopher/GOFamily" rel="noopener noreferrer" target="_blank" aria-label="Github"><!--[--><!--]--> Github <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-item"><a href="/GOFamily/#wechat.png" class="" aria-label="å¾®ä¿¡å…¬ä¼—å·"><!--[--><!--]--> å¾®ä¿¡å…¬ä¼—å· <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/shgopher" rel="noopener noreferrer" target="_blank" aria-label="ä½œè€…"><!--[--><!--]--> ä½œè€… <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading">GO <!----></p><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a href="/GOFamily/go/åŸºç¡€" class="sidebar-item" aria-label="åŸºç¡€"><!--[--><!--]--> åŸºç¡€ <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a href="/GOFamily/go/åŸºç¡€/æ•°å­—ç±»å‹" class="sidebar-item" aria-label="æ•°å­—ç±»å‹"><!--[--><!--]--> æ•°å­—ç±»å‹ <!--[--><!--]--></a><!----></li><li><a href="/GOFamily/go/åŸºç¡€/slice" class="sidebar-item" aria-label="slice"><!--[--><!--]--> slice <!--[--><!--]--></a><!----></li><li><a href="/GOFamily/go/åŸºç¡€/string" class="sidebar-item" aria-label="string"><!--[--><!--]--> string <!--[--><!--]--></a><!----></li><li><a href="/GOFamily/go/åŸºç¡€/map" class="sidebar-item" aria-label="map"><!--[--><!--]--> map <!--[--><!--]--></a><!----></li><li><a href="/GOFamily/go/åŸºç¡€/å…³é”®å­—" class="sidebar-item" aria-label="å…³é”®å­—"><!--[--><!--]--> å…³é”®å­— <!--[--><!--]--></a><!----></li><li><a href="/GOFamily/go/åŸºç¡€/å‡½æ•°æ–¹æ³•" class="sidebar-item" aria-label="å‡½æ•°æ–¹æ³•"><!--[--><!--]--> å‡½æ•°æ–¹æ³• <!--[--><!--]--></a><!----></li><li><a href="/GOFamily/go/åŸºç¡€/interface" class="sidebar-item" aria-label="æ¥å£"><!--[--><!--]--> æ¥å£ <!--[--><!--]--></a><!----></li><li><a href="/GOFamily/go/åŸºç¡€/é€»è¾‘å’Œåˆ¤æ–­è¯­å¥" class="sidebar-item" aria-label="é€»è¾‘å’Œåˆ¤æ–­è¯­å¥"><!--[--><!--]--> é€»è¾‘å’Œåˆ¤æ–­è¯­å¥ <!--[--><!--]--></a><!----></li><li><a href="/GOFamily/go/åŸºç¡€/æ³›å‹" class="sidebar-item" aria-label="æ³›å‹"><!--[--><!--]--> æ³›å‹ <!--[--><!--]--></a><!----></li><li><a href="/GOFamily/go/åŸºç¡€/å…¶ä»–å†…å®¹" class="sidebar-item" aria-label="å…¶ä»–å†…å®¹"><!--[--><!--]--> å…¶ä»–å†…å®¹ <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><a href="/GOFamily/go/å¹¶å‘" class="sidebar-item" aria-label="å¹¶å‘"><!--[--><!--]--> å¹¶å‘ <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a href="/GOFamily/go/å¹¶å‘/å¹¶å‘æ¨¡å‹" class="sidebar-item" aria-label="å¹¶å‘æ¨¡å‹"><!--[--><!--]--> å¹¶å‘æ¨¡å‹ <!--[--><!--]--></a><!----></li><li><a href="/GOFamily/go/å¹¶å‘/å†…å­˜æ¨¡å‹" class="sidebar-item" aria-label="å†…å­˜æ¨¡å‹"><!--[--><!--]--> å†…å­˜æ¨¡å‹ <!--[--><!--]--></a><!----></li><li><a href="/GOFamily/go/å¹¶å‘/å¹¶å‘åŸè¯­" class="sidebar-item" aria-label="å¹¶å‘åŸè¯­"><!--[--><!--]--> å¹¶å‘åŸè¯­ <!--[--><!--]--></a><!----></li><li><a href="/GOFamily/go/å¹¶å‘/channel" class="sidebar-item" aria-label="channel"><!--[--><!--]--> channel <!--[--><!--]--></a><!----></li><li><a href="/GOFamily/go/å¹¶å‘/context" class="sidebar-item" aria-label="context"><!--[--><!--]--> context <!--[--><!--]--></a><!----></li><li><a href="/GOFamily/go/å¹¶å‘/atomic" class="sidebar-item" aria-label="atomic"><!--[--><!--]--> atomic <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><a href="/GOFamily/go/runtime" class="sidebar-item" aria-label="runtime"><!--[--><!--]--> runtime <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a href="/GOFamily/go/runtime/gmp" class="sidebar-item" aria-label="G:M:P"><!--[--><!--]--> G:M:P <!--[--><!--]--></a><!----></li><li><a href="/GOFamily/go/runtime/netpool" class="sidebar-item" aria-label="netpool"><!--[--><!--]--> netpool <!--[--><!--]--></a><!----></li><li><a href="/GOFamily/go/runtime/æ ˆå†…å­˜ç®¡ç†" class="sidebar-item" aria-label="æ ˆå†…å­˜ç®¡ç†"><!--[--><!--]--> æ ˆå†…å­˜ç®¡ç† <!--[--><!--]--></a><!----></li><li><a href="/GOFamily/go/runtime/å †å†…å­˜åˆ†é…" class="sidebar-item" aria-label="å †å†…å­˜åˆ†é…"><!--[--><!--]--> å †å†…å­˜åˆ†é… <!--[--><!--]--></a><!----></li><li><a href="/GOFamily/go/runtime/ç³»ç»Ÿç›‘æ§" class="sidebar-item" aria-label="ç³»ç»Ÿç›‘æ§"><!--[--><!--]--> ç³»ç»Ÿç›‘æ§ <!--[--><!--]--></a><!----></li><li><a href="/GOFamily/go/runtime/ä¸‰è‰²gcç®—æ³•" class="sidebar-item" aria-label="ä¸‰è‰²gcç®—æ³•"><!--[--><!--]--> ä¸‰è‰²gcç®—æ³• <!--[--><!--]--></a><!----></li><li><a href="/GOFamily/go/runtime/å®šæ—¶å™¨" class="sidebar-item" aria-label="å®šæ—¶å™¨"><!--[--><!--]--> å®šæ—¶å™¨ <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><a href="/GOFamily/go/å·¥ç¨‹" class="sidebar-item" aria-label="å·¥ç¨‹"><!--[--><!--]--> å·¥ç¨‹ <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a href="/GOFamily/go/å·¥ç¨‹/åŒ…ç®¡ç†å·¥å…·" class="sidebar-item" aria-label="åŒ…ç®¡ç†å·¥å…·"><!--[--><!--]--> åŒ…ç®¡ç†å·¥å…· <!--[--><!--]--></a><!----></li><li><a href="/GOFamily/go/å·¥ç¨‹/æµ‹è¯•" class="sidebar-item" aria-label="æµ‹è¯•"><!--[--><!--]--> æµ‹è¯• <!--[--><!--]--></a><!----></li><li><a href="/GOFamily/go/å·¥ç¨‹/é”™è¯¯å¤„ç†" class="sidebar-item" aria-label="é”™è¯¯å¤„ç†"><!--[--><!--]--> é”™è¯¯å¤„ç† <!--[--><!--]--></a><!----></li><li><a href="/GOFamily/go/å·¥ç¨‹/åŠ¨æ€è°ƒè¯•" class="sidebar-item" aria-label="åŠ¨æ€è°ƒè¯•"><!--[--><!--]--> åŠ¨æ€è°ƒè¯• <!--[--><!--]--></a><!----></li><li><a href="/GOFamily/go/å·¥ç¨‹/åå°„" class="sidebar-item" aria-label="åå°„"><!--[--><!--]--> åå°„ <!--[--><!--]--></a><!----></li><li><a href="/GOFamily/go/å·¥ç¨‹/å‘½ä»¤" class="sidebar-item" aria-label="goè‡ªå¸¦å‘½ä»¤"><!--[--><!--]--> goè‡ªå¸¦å‘½ä»¤ <!--[--><!--]--></a><!----></li><li><a href="/GOFamily/go/å·¥ç¨‹/æ€§èƒ½å‰–æ" class="sidebar-item" aria-label="æ€§èƒ½å‰–æ"><!--[--><!--]--> æ€§èƒ½å‰–æ <!--[--><!--]--></a><!----></li><li><a href="/GOFamily/go/å·¥ç¨‹/ä¼˜ç§€ç¬¬ä¸‰æ–¹åŒ…" class="sidebar-item" aria-label="ä¼˜ç§€ç¬¬ä¸‰æ–¹åŒ…"><!--[--><!--]--> ä¼˜ç§€ç¬¬ä¸‰æ–¹åŒ… <!--[--><!--]--></a><!----></li><li><a href="/GOFamily/go/å·¥ç¨‹/cgo" class="sidebar-item" aria-label="cgo"><!--[--><!--]--> cgo <!--[--><!--]--></a><!----></li><li><a href="/GOFamily/go/å·¥ç¨‹/golint" class="sidebar-item" aria-label="golint"><!--[--><!--]--> golint <!--[--><!--]--></a><!----></li><li><a href="/GOFamily/go/å·¥ç¨‹/wasm" class="sidebar-item" aria-label="wasm in go"><!--[--><!--]--> wasm in go <!--[--><!--]--></a><!----></li><li><a href="/GOFamily/go/å·¥ç¨‹/web" class="sidebar-item" aria-label="go webåŒ…"><!--[--><!--]--> go webåŒ… <!--[--><!--]--></a><!----></li><li><a href="/GOFamily/go/å·¥ç¨‹/goæ ‡å‡†åº“" class="sidebar-item" aria-label="go æ ‡å‡†åº“"><!--[--><!--]--> go æ ‡å‡†åº“ <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><!--]--></ul><!--]--></li><li><p tabindex="0" class="sidebar-item sidebar-heading">408 <!----></p><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a href="/GOFamily/408/ç®—æ³•" class="sidebar-item" aria-label="ç®—æ³•å’Œæ•°æ®ç»“æ„"><!--[--><!--]--> ç®—æ³•å’Œæ•°æ®ç»“æ„ <!--[--><!--]--></a><!----></li><li><a href="/GOFamily/408/ç½‘ç»œ" class="sidebar-item" aria-label="ç½‘ç»œ"><!--[--><!--]--> ç½‘ç»œ <!--[--><!--]--></a><!----></li><li><a href="/GOFamily/408/æ“ä½œç³»ç»Ÿ" class="sidebar-item" aria-label="æ“ä½œç³»ç»Ÿ"><!--[--><!--]--> æ“ä½œç³»ç»Ÿ <!--[--><!--]--></a><!----></li><li><a href="/GOFamily/408/æ•°æ®åº“" class="sidebar-item" aria-label="æ•°æ®åº“"><!--[--><!--]--> æ•°æ®åº“ <!--[--><!--]--></a><!----></li><li><a href="/GOFamily/408/è®¾è®¡æ¨¡å¼" class="sidebar-item" aria-label="è®¾è®¡æ¨¡å¼"><!--[--><!--]--> è®¾è®¡æ¨¡å¼ <!--[--><!--]--></a><!----></li><li><a href="/GOFamily/408/ç»„æˆåŸç†" class="sidebar-item" aria-label="è®¡ç®—æœºç»„æˆåŸç†"><!--[--><!--]--> è®¡ç®—æœºç»„æˆåŸç† <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><p tabindex="0" class="sidebar-item sidebar-heading">ç³»ç»Ÿè®¾è®¡ <!----></p><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a href="/GOFamily/system/æ¶æ„è®¾è®¡åŸºç¡€" class="sidebar-item" aria-label="æ¶æ„è®¾è®¡åŸºç¡€"><!--[--><!--]--> æ¶æ„è®¾è®¡åŸºç¡€ <!--[--><!--]--></a><!----></li><li><a href="/GOFamily/system/å®¹å™¨" class="sidebar-item" aria-label="å®¹å™¨"><!--[--><!--]--> å®¹å™¨ <!--[--><!--]--></a><!----></li><li><a href="/GOFamily/system/ç½‘å…³" class="sidebar-item" aria-label="ç½‘å…³"><!--[--><!--]--> ç½‘å…³ <!--[--><!--]--></a><!----></li><li><a href="/GOFamily/system/æ¶ˆæ¯é˜Ÿåˆ—" class="sidebar-item" aria-label="æ¶ˆæ¯é˜Ÿåˆ—"><!--[--><!--]--> æ¶ˆæ¯é˜Ÿåˆ— <!--[--><!--]--></a><!----></li><li><a href="/GOFamily/system/rpc" class="sidebar-item" aria-label="rpc"><!--[--><!--]--> rpc <!--[--><!--]--></a><!----></li><li><a href="/GOFamily/system/æœç´¢å¼•æ“" class="sidebar-item" aria-label="æœç´¢å¼•æ“"><!--[--><!--]--> æœç´¢å¼•æ“ <!--[--><!--]--></a><!----></li><li><a href="/GOFamily/system/å®æˆ˜" class="sidebar-item" aria-label="å®æˆ˜"><!--[--><!--]--> å®æˆ˜ <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><p tabindex="0" class="sidebar-item sidebar-heading">æŠ€æœ¯æ–¹å‘ <!----></p><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a href="/GOFamily/tech/åç«¯å¼€å‘" class="sidebar-item" aria-label="åç«¯"><!--[--><!--]--> åç«¯ <!--[--><!--]--></a><!----></li><li><a href="/GOFamily/tech/å‰ç«¯å¼€å‘" class="sidebar-item" aria-label="å‰ç«¯"><!--[--><!--]--> å‰ç«¯ <!--[--><!--]--></a><!----></li><li><a href="/GOFamily/tech/äº‘æŠ€æœ¯" class="sidebar-item" aria-label="äº‘æŠ€æœ¯"><!--[--><!--]--> äº‘æŠ€æœ¯ <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><p tabindex="0" class="sidebar-item sidebar-heading">å…¶å®ƒ <!----></p><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a href="/GOFamily/other/æµ‹è¯•" class="sidebar-item" aria-label="æµ‹è¯•"><!--[--><!--]--> æµ‹è¯• <!--[--><!--]--></a><!----></li><li><a href="/GOFamily/other/æ­£åˆ™è¡¨è¾¾å¼" class="sidebar-item" aria-label="æ­£åˆ™è¡¨è¾¾å¼"><!--[--><!--]--> æ­£åˆ™è¡¨è¾¾å¼ <!--[--><!--]--></a><!----></li><li><a href="/GOFamily/other/git" class="sidebar-item" aria-label="git"><!--[--><!--]--> git <!--[--><!--]--></a><!----></li><li><a href="/GOFamily/other/auth" class="sidebar-item" aria-label="auth"><!--[--><!--]--> auth <!--[--><!--]--></a><!----></li><li><a href="/GOFamily/other/devOps" class="sidebar-item" aria-label="devOps"><!--[--><!--]--> devOps <!--[--><!--]--></a><!----></li><li><a href="/GOFamily/other/é‡æ„æŠ€æœ¯" class="sidebar-item" aria-label="é‡æ„æŠ€æœ¯"><!--[--><!--]--> é‡æ„æŠ€æœ¯ <!--[--><!--]--></a><!----></li><li><a href="/GOFamily/other/ç¨‹åºå‘˜" class="sidebar-item" aria-label="ç¨‹åºå‘˜"><!--[--><!--]--> ç¨‹åºå‘˜ <!--[--><!--]--></a><!----></li><li><a href="/GOFamily/other/ddd" class="sidebar-item" aria-label="ddd"><!--[--><!--]--> ddd <!--[--><!--]--></a><!----></li><li><a href="/GOFamily/other/okr" class="sidebar-item" aria-label="okr"><!--[--><!--]--> okr <!--[--><!--]--></a><!----></li><li><a href="/GOFamily/other/æ€§èƒ½ä¼˜åŒ–æŠ€æœ¯" class="sidebar-item" aria-label="æ€§èƒ½ä¼˜åŒ–æŠ€æœ¯"><!--[--><!--]--> æ€§èƒ½ä¼˜åŒ–æŠ€æœ¯ <!--[--><!--]--></a><!----></li><li><a href="/GOFamily/other/debug" class="sidebar-item" aria-label="debug æŠ€æœ¯"><!--[--><!--]--> debug æŠ€æœ¯ <!--[--><!--]--></a><!----></li><li><a href="/GOFamily/other/çº¿ä¸Šå¿«é€Ÿæ’éšœ" class="sidebar-item" aria-label="çº¿ä¸Šå¿«é€Ÿæ’éšœ"><!--[--><!--]--> çº¿ä¸Šå¿«é€Ÿæ’éšœ <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><h1>æ³›å‹</h1><p><strong>å¯¼è¯»ï¼š</strong></p><ul><li>çº¦æŸ</li><li>ä½¿ç”¨æ–¹æ³•</li><li>å®ç°åŸç†</li><li>è·Ÿå…¶å®ƒè¯­è¨€çš„æ³›å‹è¿›è¡Œå¯¹æ¯”</li><li>ç”¨ä¾‹å­å­¦æ³›å‹</li><li>issues</li></ul><blockquote><p>æ³›å‹éœ€æ»¡è¶³ <code>go1.18+</code></p></blockquote><h2>çº¦æŸ</h2><p>goä½¿ç”¨interfaceä½œä¸ºçº¦æŸï¼Œçº¦æŸçš„æ„æ€æ˜¯çº¦æŸäº†è¿™ä¸ªæ³›å‹éƒ½å…·æœ‰å“ªäº›å®é™…ç±»å‹ã€‚æ‰€ä»¥å¯ä»¥ç†è§£ä¸ºï¼Œgoå°†interfaceçš„èŒè´£ç»™æ‰©å±•äº†ï¼Œè®©æ¥å£ä¸ä»…ä»…ä½œä¸ºæ¥å£ --- è§£è€¦çš„ï¼ŒæŠ½è±¡åŒ–çš„ç»“æ„ä½“ï¼Œè¿˜å…·æœ‰äº†çº¦æŸï¼Œå¯¹äºç±»å‹çš„çº¦æŸä½œç”¨ã€‚</p><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">type</span> st <span class="token keyword">interface</span><span class="token punctuation">{</span>
  <span class="token builtin">int</span> <span class="token operator">|</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>è¿™é‡Œ stçº¦æŸæ‹¥æœ‰intå’Œstringï¼Œè¯·æ³¨æ„è¿™é‡Œçš„stæ˜¯çº¦æŸï¼Œä¸æ˜¯æ³›å‹ç±»å‹</p><p>goå†…ç½®äº†å¾ˆå¤šçº¦æŸï¼Œæ¯”å¦‚è¯´ any å’Œ comparable ï¼Œæ„æ€æ˜¯ä»»ä½•ç±»å‹å’Œå¯ä»¥æ¯”è¾ƒçš„ç±»å‹ã€‚ä»¥ååº”è¯¥ä¼šæœ‰ä¸€ä¸ªæ–°çš„å†…ç½®çº¦æŸçš„åŒ…å«åš<code>package constraints</code> ä¾‹å¦‚any comparable ï¼ŒOrdered ç­‰ç­‰çº¦æŸéƒ½ä¼šå†…ç½®åˆ°æ ‡å‡†åº“ä¸­</p><p>çº¦æŸä¸ä»…ä»…å¯ä»¥å•ç‹¬å†™å‡ºæ¥ï¼Œè¿˜å¯ä»¥å†…ç½®äºå‡½æ•°å†…éƒ¨ã€‚</p><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">func</span> Age<span class="token punctuation">[</span>T <span class="token builtin">int</span><span class="token operator">|</span> <span class="token builtin">string</span><span class="token punctuation">,</span>B <span class="token builtin">float64</span><span class="token operator">|</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token punctuation">(</span>i T<span class="token punctuation">,</span>j B<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>è¿™ç§å½¢å¼ä¸‹ï¼ŒT å’Œ B çš„çº¦æŸå°±æ˜¯ä»…é™æ­¤å‡½æ•°ä½¿ç”¨</p><p>ä¸‹é¢æˆ‘ä»¬çœ‹ä¸€ç§å½¢å¼ï¼Œè¿™ç§æƒ…å†µä¸‹çº¦æŸçš„ä¸ä»…ä»…æ˜¯stringå’Œintï¼Œè€Œæ˜¯åŒ…å«äº†åº•å±‚æ˜¯ä»–ä»¬çš„æ‰€æœ‰æ•°æ®ï¼Œæ¯”å¦‚è¯´ <code>type DD int</code> ä¹Ÿç¬¦åˆè¿™ä¸ªçº¦æŸï¼Œè¯·è®°ä½åªèƒ½ä½¿ç”¨åœ¨åº•å±‚ç±»å‹ä¸Šï¼Œå¦‚æœä½¿ç”¨<code>~DD</code>æ˜¯ä¸è¢«å…è®¸çš„</p><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">type</span> st <span class="token keyword">interface</span><span class="token punctuation">{</span>
	~<span class="token builtin">string</span> <span class="token operator">|</span> ~<span class="token builtin">int</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>äºæ­¤åŒæ—¶ï¼Œçº¦æŸä¹Ÿä¸ä»…ä»…æ˜¯åŸºç¡€ç±»å‹ï¼Œçº¦æŸçš„å†…å®¹æ˜¯æ–¹æ³•ä¹Ÿæ˜¯å¯ä»¥çš„</p><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code>
<span class="token keyword">func</span> ConcatTo<span class="token punctuation">[</span>S Stringer<span class="token punctuation">,</span> P Plusser<span class="token punctuation">]</span><span class="token punctuation">(</span>s <span class="token punctuation">[</span><span class="token punctuation">]</span>S<span class="token punctuation">,</span> p <span class="token punctuation">[</span><span class="token punctuation">]</span>P<span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span> <span class="token punctuation">{</span>
	r <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token function">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token keyword">for</span> i<span class="token punctuation">,</span> v <span class="token operator">:=</span> <span class="token keyword">range</span> s <span class="token punctuation">{</span>
		r<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> p<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">Plus</span><span class="token punctuation">(</span>v<span class="token punctuation">.</span><span class="token function">String</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> r
<span class="token punctuation">}</span>

<span class="token keyword">type</span> Plusser <span class="token keyword">interface</span> <span class="token punctuation">{</span>
	<span class="token function">Plus</span><span class="token punctuation">(</span><span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>
<span class="token keyword">type</span> Stringer <span class="token keyword">interface</span> <span class="token punctuation">{</span>
	<span class="token function">String</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>æ‰€æœ‰è¯´è¿™é‡Œå°±å¯ä»¥çœ‹å‡ºæ¥ï¼Œåœ¨å¼•å…¥æ³›å‹ä¹‹åï¼Œgoçš„interfaceçš„åŠŸèƒ½æ‰©å……äº†ã€‚</p><p>çº¦æŸè·Ÿæ¥å£æ˜¯ä¸€æ ·çš„ä¹Ÿæ˜¯å¯ä»¥åµŒå¥—çš„</p><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">type</span> ComparableHasher <span class="token keyword">interface</span> <span class="token punctuation">{</span>
	comparable
	<span class="token function">Hash</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">uintptr</span>
<span class="token punctuation">}</span>

<span class="token comment">// or</span>

<span class="token keyword">type</span> ImpossibleConstraint <span class="token keyword">interface</span> <span class="token punctuation">{</span>
	comparable
	<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>è¿™é‡Œçš„æ„ä¹‰å°±æ˜¯ <strong>and</strong>çš„æ„æ€ å°±æ˜¯è¯´è¿™ä¸ªçº¦æŸæ˜¯å¯ä»¥æ¯”è¾ƒçš„è¿˜æ˜¯å¿…é¡»å¾—æ”¯æŒ<code>hash()uintptr</code></p><p>ä¸‹é¢è¿™ç§æ–¹æ³•ä¹Ÿæ˜¯å¯ä»¥çš„</p><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">type</span> NumericAbs<span class="token punctuation">[</span>T any<span class="token punctuation">]</span> <span class="token keyword">interface</span> <span class="token punctuation">{</span>
	~<span class="token builtin">int</span> <span class="token operator">|</span> ~<span class="token builtin">int8</span> <span class="token operator">|</span> ~<span class="token builtin">int16</span> <span class="token operator">|</span> ~<span class="token builtin">int32</span> <span class="token operator">|</span> ~<span class="token builtin">int64</span> <span class="token operator">|</span>
		~<span class="token builtin">uint</span> <span class="token operator">|</span> ~<span class="token builtin">uint8</span> <span class="token operator">|</span> ~<span class="token builtin">uint16</span> <span class="token operator">|</span> ~<span class="token builtin">uint32</span> <span class="token operator">|</span> ~<span class="token builtin">uint64</span> <span class="token operator">|</span> ~<span class="token builtin">uintptr</span> <span class="token operator">|</span>
		~<span class="token builtin">float32</span> <span class="token operator">|</span> ~<span class="token builtin">float64</span> <span class="token operator">|</span>
		~<span class="token builtin">complex64</span> <span class="token operator">|</span> ~<span class="token builtin">complex128</span>
	<span class="token function">Abs</span><span class="token punctuation">(</span><span class="token punctuation">)</span> T
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>ä¸Šé¢çš„ç±»å‹æ„æ€æ˜¯æ»¡è¶³æ•°å­—ç±»å‹ï¼Œä¸‹é¢çš„æ„æ€æ˜¯æ»¡è¶³è¿™ä¸ªæ–¹æ³•ï¼Œæ‰€ä»¥æœ€ç»ˆå®ç°è¿™ä¸ªçº¦æŸï¼Œå°±æ˜¯ä¸€ä¸ªå¯¹è±¡æ˜¯æ•°å­—ç±»å‹ï¼Œå¹¶ä¸”å®ç°äº†è¿™ä¸ªæ¥å£</p><p>å½“ç»“æ„ä½“ä¸­ä½¿ç”¨æ³›å‹çš„æ—¶å€™ï¼Œæ³›å‹ä¸èƒ½ç›´æ¥ä½œä¸ºåµŒå…¥ä½¿ç”¨</p><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">type</span> Lockable<span class="token punctuation">[</span>T any<span class="token punctuation">]</span> <span class="token keyword">struct</span> <span class="token punctuation">{</span>
	T <span class="token comment">// æ­£ç¡®çš„æ–¹æ³•åº”è¯¥æ˜¯ T T</span>
	mu sync<span class="token punctuation">.</span>Mutex
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>é”™è¯¯æç¤ºï¼š <code>embedded field type cannot be a (pointer to a) type parameter</code></p><p>æˆ‘ä»¬å†çœ‹ä¸€ä¸‹å½“æ³›å‹ç»“æ„ä½“åµŒå…¥åˆ°å…¶å®ƒç»“æ„ä½“ä¸­å¦‚ä½•ä½¿ç”¨</p><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
	<span class="token string">&quot;fmt&quot;</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;Hello, ä¸–ç•Œ&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> A<span class="token punctuation">[</span>T any<span class="token punctuation">]</span> <span class="token keyword">struct</span> <span class="token punctuation">{</span>
	T T
<span class="token punctuation">}</span>

<span class="token keyword">type</span> B<span class="token punctuation">[</span>T any<span class="token punctuation">]</span> <span class="token keyword">struct</span> <span class="token punctuation">{</span>
	<span class="token comment">// è¿™é‡Œä¹Ÿå¯ä»¥ä½¿ç”¨ A[T] å‰è€…æ˜¯è¾“å…¥äº†å®é™…ç±»å‹ï¼Œ</span>
	<span class="token comment">//åè€…è™½ç„¶è¾“å…¥çš„æ˜¯æ³›å‹ç±»å‹Tï¼Œä½†æ˜¯åŒæ ·å±äºä¸€ä¸ªå…·ä½“ç±»å‹</span>
	A<span class="token punctuation">[</span>C<span class="token punctuation">]</span> 
	T T
<span class="token punctuation">}</span>

<span class="token keyword">type</span> C <span class="token keyword">struct</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><p>å¯ä»¥çœ‹å‡ºå…³é”®ç‚¹ï¼Œæ³›å‹ç»“æ„ä½“è¢«åµŒå…¥å…¶å®ƒç»“æ„ä½“çš„æ—¶å€™ï¼Œæ³›å‹è¦ç»™å®é™…çš„ç±»å‹æ‰å¯ä»¥</p><p>è¿™å¥è§£é‡Šæ˜¯è·Ÿæ–¹æ³•ä¸­çš„æ³›å‹åšå¯¹æ¯”çš„</p><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">type</span> A<span class="token punctuation">[</span>T any<span class="token punctuation">]</span> <span class="token keyword">struct</span><span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token keyword">func</span><span class="token punctuation">(</span>a A<span class="token punctuation">[</span>T<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token function">Get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>æˆ‘ä»¬çŸ¥é“æ–¹æ³•é‡Œçš„æ³›å‹æ˜¯ä½¿ç”¨è¿™ç§æ–¹æ³•ï¼Œæ–¹æ³•é‡Œçš„æ³›å‹æ˜¯å¯ä»¥ç›´æ¥ä»structå®šä¹‰çš„åœ°æ–¹ç»§æ‰¿è¿™ä¸ªæ³›å‹Tçš„ï¼Œä½†æ˜¯ç»“æ„ä½“çš„åµŒå¥—æˆ–è€…ä½¿ç”¨ï¼Œå°±ä¸èƒ½ç»§æ‰¿äº†ï¼Œæ‰€ä»¥å¾—ç»™å®é™…çš„ç±»å‹ä¸ç„¶å°±ä¼šæŠ¥é”™ <code>embedded field type cannot be a (pointer to a) type parameter</code></p><p>çº¦æŸé‡Œçš„æ³›å‹åŒæ ·ä¸èƒ½ç›´æ¥åµŒå…¥ä½¿ç”¨</p><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">type</span> B<span class="token punctuation">[</span>T any<span class="token punctuation">]</span> <span class="token keyword">interface</span> <span class="token punctuation">{</span>
	T
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>é”™è¯¯æç¤ºï¼š <code>cannot embed a type parameter</code></p><p>åªæœ‰æ³›å‹ç±»å‹æ˜¯æ–¹æ³•çš„å‚æ•°æ—¶æ‰å¯ä»¥è¿™ä¹ˆåšï¼Œæ¯”å¦‚è¯´</p><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">type</span> EmbeddedParameter<span class="token punctuation">[</span>T any<span class="token punctuation">]</span> <span class="token keyword">interface</span> <span class="token punctuation">{</span>
	~<span class="token builtin">int</span> <span class="token operator">|</span> ~<span class="token builtin">uint</span> 
	<span class="token function">me</span><span class="token punctuation">(</span><span class="token punctuation">)</span> T 
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>å¦‚æœæƒ³ä½¿ç”¨è¿™ç§çº¦æŸï¼Œå¯ä»¥è¿™ä¹ˆä½¿ç”¨</p><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">func</span> Abs<span class="token punctuation">[</span>T EmbeddedParameter<span class="token punctuation">[</span>T<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">(</span>t T<span class="token punctuation">)</span>T<span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>è§£é‡Šä¸€ä¸‹ï¼Œä¸­æ‹¬å·é‡Œé¢æ³›å‹çš„ä¸¤ä¸ªTè¡¨è¾¾çš„æ„æ€æ˜¯ä¸ä¸€æ ·çš„ï¼Œåé¢çš„Tè¡¨è¾¾çš„æ˜¯ çº¦æŸé‡Œçš„æ³›å‹ï¼Œè¡¨ç¤º anyï¼Œå‰é¢çš„Tè¡¨ç¤ºçš„æ˜¯æ»¡è¶³åé¢çš„è¿™ä¸ªçº¦æŸçš„ç±»å‹Tï¼Œä½†æ˜¯è¿™é‡Œæ³¨æ„ï¼Œåé¢Tè™½ç„¶ä¹‹å‰å®šä¹‰çš„æ—¶å€™æ˜¯anyä½†æ˜¯è¿™é‡Œè¢«æ”¹å˜äº†ï¼Œæ”¹å˜ä¸ºäº†å¿…é¡»æ»¡è¶³çº¦æŸ <code>EmbeddedParameter</code>çš„ç±»å‹ï¼Œå¦‚æœè¯´çš„é€šä¿—ç‚¹ï¼Œä»anyå˜æˆäº†ï¼Œæ»¡è¶³ <code>int ï½œ uint and å®ç° me()Tæ–¹æ³• </code>åæ–‡ä¼šæœ‰ä»£ç è¿›è¡Œè§£é‡Šã€‚</p><p>å½“ç„¶äº†ï¼Œåé¢çš„Tæ²¡æœ‰ä¹Ÿè¡Œï¼Œå¦‚æœæ²¡æœ‰åé¢çš„Tå°±æ˜¯ç›¸å½“äºä¸æ”¹å˜åé¢çš„Tçš„çº¦æŸç±»å‹äº†</p><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">type</span> Differ<span class="token punctuation">[</span>T1 any<span class="token punctuation">]</span> <span class="token keyword">interface</span> <span class="token punctuation">{</span>
	<span class="token function">Diff</span><span class="token punctuation">(</span>T1<span class="token punctuation">)</span> <span class="token builtin">int</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> IsClose<span class="token punctuation">[</span>T2 Differ<span class="token punctuation">]</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b T2<span class="token punctuation">)</span> <span class="token builtin">bool</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> a<span class="token punctuation">.</span><span class="token function">Diff</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">2</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>å½“ä½¿ç”¨äº†æ³›å‹ä¹‹åï¼Œæ˜¯æ— æ³•ä½¿ç”¨æ–­è¨€çš„ï¼Œè¿™æ˜¯éæ³•çš„ï¼Œé‚£ä¹ˆå¦‚æœä¸€å®šè¦åœ¨è¿è¡Œæ—¶çš„æ—¶å€™å»åˆ¤æ–­ç±»å‹æ€ä¹ˆåŠå‘¢ï¼Ÿç­”æ¡ˆå°±æ˜¯è½¬å˜æˆ<code>interface{}</code>å³å¯ï¼Œå› ä¸ºæˆ‘ä»¬çŸ¥é“ä»»ä½•å¯¹è±¡éƒ½å·²ç»å®ç°äº†ç©ºæ¥å£ï¼Œé‚£ä¹ˆå°±å¯ä»¥è¢«ç©ºæ¥å£å»è½¬åŒ–</p><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">func</span> GeneralAbsDifference<span class="token punctuation">[</span>T Numeric<span class="token punctuation">]</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b T<span class="token punctuation">)</span> T <span class="token punctuation">{</span>
	<span class="token keyword">switch</span> <span class="token punctuation">(</span><span class="token keyword">interface</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token keyword">type</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">case</span> <span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token builtin">int8</span><span class="token punctuation">,</span> <span class="token builtin">int16</span><span class="token punctuation">,</span> <span class="token builtin">int32</span><span class="token punctuation">,</span> <span class="token builtin">int64</span><span class="token punctuation">,</span>
		<span class="token builtin">uint</span><span class="token punctuation">,</span> <span class="token builtin">uint8</span><span class="token punctuation">,</span> <span class="token builtin">uint16</span><span class="token punctuation">,</span> <span class="token builtin">uint32</span><span class="token punctuation">,</span> <span class="token builtin">uint64</span><span class="token punctuation">,</span> <span class="token builtin">uintptr</span><span class="token punctuation">,</span>
		<span class="token builtin">float32</span><span class="token punctuation">,</span> <span class="token builtin">float64</span><span class="token punctuation">:</span>
		<span class="token keyword">return</span> <span class="token function">OrderedAbsDifference</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> 
	<span class="token keyword">case</span> <span class="token builtin">complex64</span><span class="token punctuation">,</span> <span class="token builtin">complex128</span><span class="token punctuation">:</span>
		<span class="token keyword">return</span> <span class="token function">ComplexAbsDifference</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> 
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>ä¸‹é¢çœ‹ä¸€ä¸‹åˆ«åçš„çœŸå®ç±»å‹æ˜¯æ³›å‹çš„æƒ…å†µ</p><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">type</span> A<span class="token punctuation">[</span>T any<span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>T

<span class="token keyword">type</span> AliasA <span class="token operator">=</span> A <span class="token comment">// é”™è¯¯ âŒ</span>

<span class="token keyword">type</span> AliasA <span class="token operator">=</span> A<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span> <span class="token comment">// æ­£ç¡®</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>å…¶ä¸­é”™è¯¯çš„é—®é¢˜æ˜¯ åˆ«åä¸èƒ½ç›´æ¥ä½¿ç”¨æ³›å‹ç±»å‹ <code>cannot use generic type A[T any] without instantiation</code>ï¼Œå®ƒéœ€è¦æ³›å‹çš„å®ä¾‹åŒ–</p><h2>ä½¿ç”¨æ–¹æ³•</h2><p>ä¸‹é¢å±•ç¤ºä¸€ä¸‹goæ³›å‹çš„åŸºæœ¬ä½¿ç”¨æ–¹æ³•</p><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token string">&quot;fmt&quot;</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;%v&quot;</span><span class="token punctuation">,</span>Age<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> Age<span class="token punctuation">[</span>T any<span class="token punctuation">]</span><span class="token punctuation">(</span>t T<span class="token punctuation">)</span> T<span class="token punctuation">{</span>
	<span class="token keyword">return</span> t
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>è¿™æ˜¯å‡½æ•°ä½¿ç”¨æ³›å‹çš„å†™æ³•ï¼Œå½“å‡½æ•°ä½¿ç”¨æ³›å‹çš„æ—¶å€™ï¼Œéœ€è¦åœ¨å˜é‡å‰ä½¿ç”¨ä¸­æ‹¬å·æ ‡æ³¨æ³›å‹çš„å…·ä½“çº¦æŸï¼Œç„¶ååé¢æ‰èƒ½ä½¿ç”¨è¿™ä¸ªæ³›å‹ç±»å‹ï¼Œä½¿ç”¨æ³›å‹å‡½æ•°çš„æ—¶å€™ï¼Œä¸­æ‹¬å·æ˜¯å¯ä»¥çœç•¥çš„<code>Age(12)</code> ç³»ç»Ÿä¼šè‡ªåŠ¨æ¨ç®—æ³›å‹çš„å…·ä½“å®ç°ã€‚é¡ºä¾¿è¯´ä¸€ä¸‹ï¼Œæ³›å‹ç±»å‹ä½¿ç”¨<code>%v</code>ä½œä¸ºå ä½ç¬¦ï¼Œæ³›å‹ç±»å‹æ— æ³•è¿›è¡Œæ–­è¨€ï¼Œè¿™ä¸€ç‚¹è·Ÿ<code>interface{}</code>ä¸åŒã€‚</p><p>å½“ç„¶äº†ï¼Œæˆ‘ä¹ˆä¹Ÿå¯ä»¥ä¸ç”¨anyï¼Œè‡ªå®šä¹‰ä¸€ä¸ªçº¦æŸ</p><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token string">&quot;fmt&quot;</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	Age<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">type</span> st <span class="token keyword">interface</span><span class="token punctuation">{</span>
  <span class="token builtin">int</span> <span class="token operator">|</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>
<span class="token keyword">func</span> Age<span class="token punctuation">[</span>T st<span class="token punctuation">]</span><span class="token punctuation">(</span>t T<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>çœ‹å®Œäº†åœ¨å‡½æ•°å†…çš„æ³›å‹ï¼Œæˆ‘ä»¬åœ¨çœ‹ä¸€ä¸‹åœ¨æ–¹æ³•ä¸­å¦‚ä½•ä½¿ç”¨æ³›å‹</p><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token string">&quot;fmt&quot;</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token function">new</span><span class="token punctuation">(</span>Age<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Post</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span>

	<span class="token keyword">var</span> dd DD<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span>
	dd<span class="token punctuation">.</span><span class="token function">TT</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> Age<span class="token punctuation">[</span>T any<span class="token punctuation">]</span> <span class="token keyword">struct</span> <span class="token punctuation">{</span>
	I T
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>a <span class="token operator">*</span>Age<span class="token punctuation">[</span>T<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token function">Post</span><span class="token punctuation">(</span>t T<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>I<span class="token punctuation">,</span> t<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> DD<span class="token punctuation">[</span>T any<span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>T

<span class="token keyword">func</span><span class="token punctuation">(</span>dd <span class="token operator">*</span>DD<span class="token punctuation">[</span>T<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token function">TT</span><span class="token punctuation">(</span>t T<span class="token punctuation">)</span><span class="token punctuation">{</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>t<span class="token punctuation">,</span><span class="token function">len</span><span class="token punctuation">(</span><span class="token operator">*</span>dd<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><p>åœ¨ age ç»“æ„ä½“å£°æ˜çš„æ—¶å€™ï¼Œå£°æ˜äº†ä¸€ä¸ªæ³›å‹ T ï¼Œåœ¨structä½“å†…å°±å¯ä»¥ä½¿ç”¨è¿™ä¸ªTï¼Œå€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œè¿™ä¸ªç»“æ„ä½“æ–¹æ³•å†…éƒ¨ä»…å¯ä»¥ä½¿ç”¨å®šä¹‰åœ¨è¿™ä¸ªç»“æ„ä½“å¯¹è±¡ä¸Šçš„æ³›å‹</p><p>ä¸‹é¢æ˜¯ä¸€ä¸ª<strong>é”™è¯¯æ¡ˆä¾‹</strong></p><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token punctuation">(</span>a <span class="token operator">*</span>Age<span class="token punctuation">[</span>T<span class="token punctuation">]</span><span class="token punctuation">)</span>Post<span class="token punctuation">[</span>B any<span class="token punctuation">]</span><span class="token punctuation">(</span>t T<span class="token punctuation">,</span>b B<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>I<span class="token punctuation">,</span> t<span class="token punctuation">)</span>
<span class="token punctuation">}</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><code>syntax error: method must have no type parameters</code></p><p>æ¥ä¸‹æ¥æˆ‘ä»¬çœ‹ä¸€ä¸‹ï¼Œå¦‚ä½•ä½¿ç”¨ <code>type a[T any] interface{} æœ‰ç±»å‹ä¹Ÿæœ‰æ–¹æ³•</code>çš„æ³›å‹ç»“æ„</p><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token string">&quot;fmt&quot;</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> d DDD
	<span class="token keyword">var</span> i DDD
	d <span class="token operator">=</span> <span class="token number">1</span>
	i <span class="token operator">=</span> <span class="token number">2</span>
	io <span class="token operator">:=</span> AbsDifference<span class="token punctuation">[</span>DDD<span class="token punctuation">]</span><span class="token punctuation">(</span>d<span class="token punctuation">,</span> i<span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>io<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> DDD <span class="token builtin">int</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>ddd DDD<span class="token punctuation">)</span> <span class="token function">Abs</span><span class="token punctuation">(</span><span class="token punctuation">)</span> DDD <span class="token punctuation">{</span>
	<span class="token keyword">return</span> ddd <span class="token operator">+</span> ddd
<span class="token punctuation">}</span>

<span class="token keyword">type</span> NumericAbs<span class="token punctuation">[</span>T any<span class="token punctuation">]</span> <span class="token keyword">interface</span> <span class="token punctuation">{</span>
	~<span class="token builtin">int</span> <span class="token operator">|</span> ~<span class="token builtin">int8</span> <span class="token operator">|</span> ~<span class="token builtin">int16</span> <span class="token operator">|</span> ~<span class="token builtin">int32</span> <span class="token operator">|</span> ~<span class="token builtin">int64</span> <span class="token operator">|</span>
		~<span class="token builtin">uint</span> <span class="token operator">|</span> ~<span class="token builtin">uint8</span> <span class="token operator">|</span> ~<span class="token builtin">uint16</span> <span class="token operator">|</span> ~<span class="token builtin">uint32</span> <span class="token operator">|</span> ~<span class="token builtin">uint64</span> <span class="token operator">|</span> ~<span class="token builtin">uintptr</span> <span class="token operator">|</span>
		~<span class="token builtin">float32</span> <span class="token operator">|</span> ~<span class="token builtin">float64</span> <span class="token operator">|</span>
		~<span class="token builtin">complex64</span> <span class="token operator">|</span> ~<span class="token builtin">complex128</span>
	<span class="token function">Abs</span><span class="token punctuation">(</span><span class="token punctuation">)</span> T
<span class="token punctuation">}</span>

<span class="token comment">// AbsDifference computes the absolute value of the difference of</span>
<span class="token comment">// a and b, where the absolute value is determined by the Abs method.</span>
<span class="token keyword">func</span> AbsDifference<span class="token punctuation">[</span>T NumericAbs<span class="token punctuation">[</span>T<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b T<span class="token punctuation">)</span> T <span class="token punctuation">{</span>
	d <span class="token operator">:=</span> a <span class="token operator">-</span> b
	<span class="token keyword">return</span> d<span class="token punctuation">.</span><span class="token function">Abs</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><h2>å®ç°åŸç†</h2><p>æ³›å‹çš„ç¬¬ä¸€ç§æ–¹æ³•æ˜¯åœ¨ç¼–è¯‘è¿™ä¸ªæ³›å‹æ—¶ï¼Œä½¿ç”¨ä¸€ä¸ªå­—å…¸ï¼Œé‡Œé¢åŒ…å«äº†è¿™ä¸ªæ³›å‹å‡½æ•°çš„å…¨éƒ¨ç±»å‹ä¿¡æ¯ï¼Œç„¶åå½“è¿è¡Œæ—¶ï¼Œä½¿ç”¨å‡½æ•°å®ä¾‹åŒ–çš„æ—¶å€™ä»è¿™ä¸ªå­—å…¸ä¸­å–å‡ºä¿¡æ¯è¿›è¡Œå®ä¾‹åŒ–å³å¯ï¼Œè¿™ç§æ–¹æ³•ä¼šå¯¼è‡´æ‰§è¡Œæ€§èƒ½ä¸‹é™ï¼Œä¸€ä¸ªå®ä¾‹åŒ–ç±»å‹<code>int, x=y</code>å¯èƒ½é€šè¿‡å¯„å­˜å™¨å¤åˆ¶å°±å¯ä»¥äº†ï¼Œä½†æ˜¯æ³›å‹å¿…é¡»é€šè¿‡å†…å­˜äº†ï¼ˆå› ä¸ºéœ€è¦mapè¿›è¡Œèµ‹å€¼ï¼‰ï¼Œä¸è¿‡å¥½å¤„å°±æ˜¯ä¸æµªè´¹ç©ºé—´</p><p>è¿˜æœ‰ä¸€ç§æ–¹æ³•å°±æ˜¯æŠŠè¿™ä¸ªæ³›å‹çš„æ‰€æœ‰ç±»å‹å…¨éƒ¨æå‰ç”Ÿæˆï¼Œè¿™ç§æ–¹æ³•ä¹Ÿæœ‰ä¸€ä¸ªå·¨å¤§çš„ç¼ºç‚¹å°±æ˜¯ä»£ç é‡ç›´çº¿ä¸Šå‡ï¼Œå¦‚æœæ˜¯ä¸€ä¸ªåŒ…çš„æƒ…å†µä¸‹è¿˜èƒ½æ ¹æ®å…·ä½“çš„å‡½æ•°è°ƒç”¨å»å®ç°è¯¥å®ç°çš„ç±»å‹ï¼Œå¦‚æœæ˜¯åŒ…è¾“å‡ºçš„çš„æƒ…å†µä¸‹ï¼Œé‚£ä¹ˆå°±å¾—ä¸å¾—ä¸ç”Ÿæˆæ‰€æœ‰çš„ç±»å‹ã€‚</p><p>æ‰€ä»¥å°†ä¸¤è€…ç»“åˆåœ¨ä¸€èµ·æˆ–è®¸æ˜¯æœ€å¥½çš„é€‰æ‹©ã€‚</p><p>è¿™ç§æ–¹æ³•æ˜¯è¿™æ ·çš„ï¼Œå¦‚æœç±»å‹çš„å†…å­˜åˆ†é…å™¨/åƒåœ¾å›æ”¶å™¨å‘ˆç°çš„æ–¹å¼ä¸€è‡´çš„æƒ…å†µä¸‹ï¼Œåªç»™å®ƒç”Ÿæˆä¸€ä»½ä»£ç ï¼Œç„¶åç»™å®ƒä¸€ä¸ªå­—å…¸æ¥åŒºåˆ†ä¸åŒçš„å…·ä½“è¡Œä¸ºï¼Œå¯ä»¥æœ€å¤§é™åº¦çš„å¹³è¡¡é€Ÿåº¦å’Œä½“ç§¯</p><h2>è·Ÿå…¶å®ƒè¯­è¨€çš„æ³›å‹è¿›è¡Œå¯¹æ¯”</h2><ul><li>cè¯­è¨€ï¼šæœ¬èº«ä¸å…·æœ‰æ³›å‹ï¼Œéœ€è¦ç¨‹åºå‘˜å»å®ç°ä¸€ä¸ªæ³›å‹ï¼Œå®ç°å¤æ‚ï¼Œä½†æ˜¯ä¸å¢åŠ è¯­è¨€çš„å¤æ‚åº¦ï¼ˆæ¢è¨€ä¹‹åªå¢åŠ äº†ç¨‹åºå‘˜çš„ï¼‰</li><li>c++å’Œrustï¼šè·ŸgoåŸºæœ¬ä¿æŒä¸€ç§æ–¹å¼ï¼Œå°±æ˜¯å¢åŠ ç¼–è¯‘å™¨çš„å·¥ä½œé‡</li><li>Javaï¼šå°†æ³›å‹è£…ç®±ä¸ºobjectï¼Œåœ¨è£…ç®±å’Œæ‹†ç®±æ“¦é™¤ç±»å‹çš„è¿‡ç¨‹ä¸­ï¼Œç¨‹åºæ‰§è¡Œæ•ˆç‡ä¼šå˜ä½</li></ul><h2>ç”¨ä¾‹å­å­¦æ³›å‹</h2><p>ç†è®ºå­¦ä¹ å®Œäº†ï¼Œä¸ä½¿ç”¨ä¾‹å­è¿›è¡Œå¤ä¹ çš„è¯ä¼šå¿˜çš„å¾ˆå¿«çš„ã€‚è·Ÿç€æˆ‘çœ‹å‡ ä¸ªä¾‹å­å§</p><p><em><strong>ä¾‹å­ä¸€ï¼š</strong></em> å‡½æ•°æ³›å‹ <code>map-filter-reduce</code></p><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
	<span class="token string">&quot;fmt&quot;</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	vM <span class="token operator">:=</span> Map<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span>i <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">{</span>

		<span class="token keyword">return</span> i <span class="token operator">+</span> i
	<span class="token punctuation">}</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;mapçš„ç»“æœæ˜¯ï¼š%v&quot;</span><span class="token punctuation">,</span> vM<span class="token punctuation">)</span>
	vF <span class="token operator">:=</span> Filter<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span>t <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">bool</span> <span class="token punctuation">{</span>
		<span class="token keyword">if</span> t <span class="token operator">&gt;</span> <span class="token number">2</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> <span class="token boolean">true</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">return</span> <span class="token boolean">false</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;filterçš„ç»“æœæ˜¯:%v&quot;</span><span class="token punctuation">,</span> vF<span class="token punctuation">)</span>
	vR <span class="token operator">:=</span> Reduce<span class="token punctuation">[</span>Value<span class="token punctuation">,</span> <span class="token operator">*</span>Result<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span>Value<span class="token punctuation">{</span>
		<span class="token punctuation">{</span>name<span class="token punctuation">:</span> <span class="token string">&quot;tt&quot;</span><span class="token punctuation">,</span> year<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token punctuation">{</span>name<span class="token punctuation">:</span> <span class="token string">&quot;bb&quot;</span><span class="token punctuation">,</span> year<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token punctuation">{</span>name<span class="token punctuation">:</span> <span class="token string">&quot;7i&quot;</span><span class="token punctuation">,</span> year<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token punctuation">{</span>name<span class="token punctuation">:</span> <span class="token string">&quot;8i&quot;</span><span class="token punctuation">,</span> year<span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token punctuation">{</span>name<span class="token punctuation">:</span> <span class="token string">&quot;u4i&quot;</span><span class="token punctuation">,</span> year<span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token punctuation">{</span>name<span class="token punctuation">:</span> <span class="token string">&quot;uei&quot;</span><span class="token punctuation">,</span> year<span class="token punctuation">:</span> <span class="token number">6</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token punctuation">{</span>name<span class="token punctuation">:</span> <span class="token string">&quot;uwi&quot;</span><span class="token punctuation">,</span> year<span class="token punctuation">:</span> <span class="token number">7</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token punctuation">{</span>name<span class="token punctuation">:</span> <span class="token string">&quot;uti&quot;</span><span class="token punctuation">,</span> year<span class="token punctuation">:</span> <span class="token number">8</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>Result<span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span>r <span class="token operator">*</span>Result<span class="token punctuation">,</span> v Value<span class="token punctuation">)</span> <span class="token operator">*</span>Result <span class="token punctuation">{</span>
		r<span class="token punctuation">.</span>value <span class="token operator">=</span> r<span class="token punctuation">.</span>value <span class="token operator">+</span> v<span class="token punctuation">.</span>year
		<span class="token keyword">return</span> r
	<span class="token punctuation">}</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;reduceçš„ç»“æœæ˜¯ï¼š&quot;</span><span class="token punctuation">,</span> vR<span class="token punctuation">.</span>value<span class="token punctuation">)</span>

<span class="token punctuation">}</span>

<span class="token comment">// Map:ç±»ä¼¼äºæ´—èœï¼Œè¿›å»çš„èœå’Œå‡ºæ¥çš„èœä¸ä¸€æ ·äº†æ‰€ä»¥éœ€è¦ä¸¤ç§ç§ç±»</span>
<span class="token keyword">func</span> Map<span class="token punctuation">[</span>T1<span class="token punctuation">,</span> T2 any<span class="token punctuation">]</span><span class="token punctuation">(</span>arr <span class="token punctuation">[</span><span class="token punctuation">]</span>T1<span class="token punctuation">,</span> f <span class="token keyword">func</span><span class="token punctuation">(</span>T1<span class="token punctuation">)</span> T2<span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>T2 <span class="token punctuation">{</span>
	result <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span>T2<span class="token punctuation">,</span> <span class="token function">len</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token keyword">for</span> k<span class="token punctuation">,</span> v <span class="token operator">:=</span> <span class="token keyword">range</span> arr <span class="token punctuation">{</span>
		result<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">f</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> result
<span class="token punctuation">}</span>

<span class="token comment">// Filter:ç±»ä¼¼äºæ‘˜èœï¼Œè¿›å»çš„èœå’Œå‡ºæ¥çš„èœæ˜¯ä¸€ç§ï¼Œä¸è¿‡é‡å‡å°‘äº†</span>
<span class="token keyword">func</span> Filter<span class="token punctuation">[</span>T any<span class="token punctuation">]</span><span class="token punctuation">(</span>arr <span class="token punctuation">[</span><span class="token punctuation">]</span>T<span class="token punctuation">,</span> f <span class="token keyword">func</span><span class="token punctuation">(</span>T<span class="token punctuation">)</span> <span class="token builtin">bool</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>T <span class="token punctuation">{</span>
	<span class="token keyword">var</span> result <span class="token punctuation">[</span><span class="token punctuation">]</span>T
	<span class="token keyword">for</span> <span class="token boolean">_</span><span class="token punctuation">,</span> v <span class="token operator">:=</span> <span class="token keyword">range</span> arr <span class="token punctuation">{</span>
		<span class="token keyword">if</span> <span class="token function">f</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span> <span class="token punctuation">{</span>
			result <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>result<span class="token punctuation">,</span> v<span class="token punctuation">)</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> result
<span class="token punctuation">}</span>

<span class="token comment">// Reduce:ç±»ä¼¼äºåšèœï¼Œå°†èœåšæˆä¸€é“æ–™ç†ï¼Œæ‰€ä»¥éœ€è¦ä¸¤ç§ç±»å‹</span>
<span class="token keyword">func</span> Reduce<span class="token punctuation">[</span>T1<span class="token punctuation">,</span> T2 any<span class="token punctuation">]</span><span class="token punctuation">(</span>arr <span class="token punctuation">[</span><span class="token punctuation">]</span>T1<span class="token punctuation">,</span> zero T2<span class="token punctuation">,</span> f <span class="token keyword">func</span><span class="token punctuation">(</span>T2<span class="token punctuation">,</span> T1<span class="token punctuation">)</span> T2<span class="token punctuation">)</span> T2 <span class="token punctuation">{</span>
	result <span class="token operator">:=</span> zero
	<span class="token keyword">for</span> <span class="token boolean">_</span><span class="token punctuation">,</span> v <span class="token operator">:=</span> <span class="token keyword">range</span> arr <span class="token punctuation">{</span>
		result <span class="token operator">=</span> <span class="token function">f</span><span class="token punctuation">(</span>result<span class="token punctuation">,</span> v<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> result
<span class="token punctuation">}</span>

<span class="token keyword">type</span> Value <span class="token keyword">struct</span> <span class="token punctuation">{</span>
	name <span class="token builtin">string</span>
	year <span class="token builtin">int</span>
<span class="token punctuation">}</span>
<span class="token keyword">type</span> Result <span class="token keyword">struct</span> <span class="token punctuation">{</span>
	value <span class="token builtin">int</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br></div></div><p><code>mapçš„ç»“æœæ˜¯ï¼š[2 4 6 8 10] filterçš„ç»“æœæ˜¯:[3 4 5] reduceçš„ç»“æœæ˜¯ï¼š 36</code></p><p><em><strong>ä¾‹å­äºŒï¼š</strong></em> æ–¹æ³•ä¸Šçš„æ³›å‹ <code>sets</code></p><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
	<span class="token string">&quot;fmt&quot;</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

	<span class="token comment">// è¿™é‡Œ Setsçš„å…·ä½“ç±»å‹å’ŒMakeçš„å…·ä½“ç±»å‹éƒ½æ˜¯int,æ‰€ä»¥å¯ä»¥æ­£å¸¸èµ‹å€¼</span>
	<span class="token keyword">var</span> s Sets<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span> <span class="token operator">=</span> Make<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token comment">//</span>
	s<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
	s<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">Contains</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">Len</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	s<span class="token punctuation">.</span><span class="token function">Iterate</span><span class="token punctuation">(</span><span class="token keyword">func</span><span class="token punctuation">(</span>i <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span>
	s<span class="token punctuation">.</span><span class="token function">Delete</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// Sets ä¸€ä¸ªkey  å­˜å‚¨å¯¹è±¡</span>
<span class="token keyword">type</span> Sets<span class="token punctuation">[</span>T comparable<span class="token punctuation">]</span> <span class="token keyword">map</span><span class="token punctuation">[</span>T<span class="token punctuation">]</span><span class="token keyword">struct</span><span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token comment">// Make å®ä¾‹åŒ–ä¸€ä¸ªmap</span>
<span class="token keyword">func</span> Make<span class="token punctuation">[</span>D comparable<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span> Sets<span class="token punctuation">[</span>D<span class="token punctuation">]</span> <span class="token punctuation">{</span>
	<span class="token comment">// æ³›å‹å°±åƒä¸€ä¸ªç®¡é“ä¸€æ ·ï¼Œåªè¦å®ä¾‹åŒ–çš„æ—¶å€™ç®¡å­é‡Œçš„ä¸œè¥¿ä¸€è‡´ï¼Œé‚£ä¹ˆå°±æ˜¯ä¸€æ ¹ç®¡å­</span>
	<span class="token keyword">return</span> <span class="token function">make</span><span class="token punctuation">(</span>Sets<span class="token punctuation">[</span>D<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// Add å‘è¿™ä¸ªsetsæ·»åŠ å†…å®¹</span>
<span class="token keyword">func</span> <span class="token punctuation">(</span>s Sets<span class="token punctuation">[</span>T<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token function">Add</span><span class="token punctuation">(</span>t T<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	s<span class="token punctuation">[</span>t<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">struct</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// delete ,ä»è¿™ä¸ªsetsä¸­åˆ é™¤å†…å®¹</span>
<span class="token keyword">func</span> <span class="token punctuation">(</span>s Sets<span class="token punctuation">[</span>T<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token function">Delete</span><span class="token punctuation">(</span>t T<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token function">delete</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> t<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">//  Contains æ’­æŠ¥tæ˜¯å¦å±äºè¿™ä¸ªsets</span>
<span class="token keyword">func</span> <span class="token punctuation">(</span>s Sets<span class="token punctuation">[</span>T<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token function">Contains</span><span class="token punctuation">(</span>t T<span class="token punctuation">)</span> <span class="token builtin">bool</span> <span class="token punctuation">{</span>
	<span class="token boolean">_</span><span class="token punctuation">,</span> ok <span class="token operator">:=</span> s<span class="token punctuation">[</span>t<span class="token punctuation">]</span>
	<span class="token keyword">return</span> ok
<span class="token punctuation">}</span>

<span class="token comment">//Len setsæ‹¥æœ‰çš„é•¿åº¦</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>s Sets<span class="token punctuation">[</span>T<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token function">Len</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token function">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// Iterate è¿­ä»£å™¨ï¼Œå¹¶ä¸”ç»™äºˆæ¯ä¸ªå…ƒç´ åŠŸèƒ½</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>s Sets<span class="token punctuation">[</span>T<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token function">Iterate</span><span class="token punctuation">(</span>f <span class="token keyword">func</span><span class="token punctuation">(</span>T<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">for</span> k <span class="token operator">:=</span> <span class="token keyword">range</span> s <span class="token punctuation">{</span>
		<span class="token function">f</span><span class="token punctuation">(</span>k<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br></div></div><p><code>map[1:{} 2:{}] false 2 1 2 map[1:{} 2:{}] map[1:{}] </code></p><p><em><strong>ä¾‹å­ä¸‰ï¼š</strong></em> å¤–éƒ¨å®šä¹‰çš„çº¦æŸ <code>å®ç°ä¸€ä¸ªsortæ¥å£ç±»å‹</code></p><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token string">&quot;fmt&quot;</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;Hello, ä¸–ç•Œ&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">// ~ ä»£è¡¨åªè¦åº•å±‚æ»¡è¶³è¿™äº›ç±»å‹ä¹Ÿå¯ä»¥ç®—æ»¡è¶³çº¦æŸ</span>
<span class="token keyword">type</span> Ordered <span class="token keyword">interface</span> <span class="token punctuation">{</span>
	~<span class="token builtin">int</span> <span class="token operator">|</span> ~<span class="token builtin">int8</span> <span class="token operator">|</span> ~<span class="token builtin">int16</span> <span class="token operator">|</span> ~<span class="token builtin">int32</span> <span class="token operator">|</span> ~<span class="token builtin">int64</span> <span class="token operator">|</span> ~<span class="token builtin">uintptr</span> <span class="token operator">|</span>
		~<span class="token builtin">uint</span> <span class="token operator">|</span> ~<span class="token builtin">uint8</span> <span class="token operator">|</span> ~<span class="token builtin">uint16</span> <span class="token operator">|</span> ~<span class="token builtin">uint32</span> <span class="token operator">|</span> ~<span class="token builtin">uint64</span> <span class="token operator">|</span>
		~<span class="token builtin">float32</span> <span class="token operator">|</span> ~<span class="token builtin">float64</span> <span class="token operator">|</span> ~<span class="token builtin">string</span>
<span class="token punctuation">}</span>
<span class="token keyword">type</span> orderedSlice<span class="token punctuation">[</span>T Ordered<span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>T

<span class="token keyword">func</span> <span class="token punctuation">(</span>s orderedSlice<span class="token punctuation">[</span>T<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token function">Len</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">int</span>           <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token function">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token punctuation">}</span>
<span class="token keyword">func</span> <span class="token punctuation">(</span>s orderedSlice<span class="token punctuation">[</span>T<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token function">Less</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> j <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">bool</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> s<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;</span> s<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token punctuation">}</span>
<span class="token keyword">func</span> <span class="token punctuation">(</span>s orderedSlice<span class="token punctuation">[</span>T<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token function">Swap</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> j <span class="token builtin">int</span><span class="token punctuation">)</span>      <span class="token punctuation">{</span> s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> s<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> s<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> s<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token punctuation">}</span>
<span class="token keyword">func</span> OrderedSlice<span class="token punctuation">[</span>T Ordered<span class="token punctuation">]</span><span class="token punctuation">(</span>s <span class="token punctuation">[</span><span class="token punctuation">]</span>T<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	sort<span class="token punctuation">.</span><span class="token function">Sort</span><span class="token punctuation">(</span>orderedSlice<span class="token punctuation">[</span>T<span class="token punctuation">]</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h2>issues</h2><p><em><strong>é—®é¢˜ä¸€ï¼š</strong></em> å…³äºæ³›å‹ä¸­çš„é›¶å€¼</p><p>åœ¨goé‡Œé¢å¯¹æ³›å‹çš„é›¶å€¼å¹¶æ²¡æœ‰ä¸€ä¸ªæ‰€è°“çš„æ³›å‹é›¶å€¼å¯ä»¥ä½¿ç”¨ï¼Œéœ€è¦æ ¹æ®ä¸åŒçš„å®è·µå»å®ç°ï¼Œæ¯”å¦‚</p><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token string">&quot;fmt&quot;</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	
<span class="token punctuation">}</span>

<span class="token keyword">type</span> Aget<span class="token punctuation">[</span>T any<span class="token punctuation">]</span> <span class="token keyword">struct</span> <span class="token punctuation">{</span>
	t <span class="token operator">*</span>T
<span class="token punctuation">}</span>
<span class="token comment">// æ ¹æ®å®é™…åˆ¤æ–­ï¼Œå¦‚æœaçš„tä¸ç­‰äºnilå†è¿”å›ï¼Œå¦‚æœæ˜¯nilå°±è¿”å›ä¸€ä¸ªTç±»å‹çš„nilï¼ˆæ„æ€å°±æ˜¯åªå£°æ˜ï¼‰</span>
<span class="token keyword">func</span> <span class="token punctuation">(</span>a <span class="token operator">*</span>Aget<span class="token punctuation">[</span>T<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token function">Approach</span><span class="token punctuation">(</span><span class="token punctuation">)</span> T <span class="token punctuation">{</span>
	<span class="token keyword">if</span> a<span class="token punctuation">.</span>t <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span> 
		<span class="token keyword">return</span> <span class="token operator">*</span>a<span class="token punctuation">.</span>t
	<span class="token punctuation">}</span>
	<span class="token keyword">var</span> r T
	<span class="token keyword">return</span> r
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p>å®é™…ä¸Šç›®å‰ï¼Œè¿˜æ²¡ä¸€ä¸ªç¡®åˆ‡çš„æ³›å‹çš„é›¶å€¼ï¼Œé‚£ä¹ˆæˆ‘ä»¬è¦åšçš„åªèƒ½æ˜¯æŒ‰ç…§å®é™…æ¥å…·ä½“åˆ†æï¼ŒæŒ‰ç…§ææ¡ˆï¼Œä»¥åæœ‰å¯èƒ½ä½¿ç”¨<code>return ...</code> <code>return _</code> <code>return </code> <code>return nil</code> <code>return T{}</code> è¿™äº›éƒ½æ˜¯å¯èƒ½çš„ç»“æœï¼Œæˆ‘ä¸ªäººæ¯”è¾ƒå–œæ¬¢ <code>return T{}</code> æ¥è¡¨ç¤ºæ³›å‹çš„é›¶å€¼ï¼Œæˆ–è®¸åœ¨go1.19æˆ–è€…go2çš„æ—¶å€™èƒ½å®ç°ï¼Œæ‹­ç›®ä»¥å¾…å§ã€‚</p><p><em><strong>é—®é¢˜äºŒï¼š</strong></em> æ— æ³•è¯†åˆ«ä½¿ç”¨äº†åº•å±‚æ•°æ®çš„å…¶å®ƒç±»å‹</p><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">type</span> Float <span class="token keyword">interface</span> <span class="token punctuation">{</span>
	~<span class="token builtin">float32</span> <span class="token operator">|</span> ~<span class="token builtin">float64</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> NewtonSqrt<span class="token punctuation">[</span>T Float<span class="token punctuation">]</span><span class="token punctuation">(</span>v T<span class="token punctuation">)</span> T <span class="token punctuation">{</span>
	<span class="token keyword">var</span> iterations <span class="token builtin">int</span>
	<span class="token keyword">switch</span> <span class="token punctuation">(</span><span class="token keyword">interface</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token keyword">type</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">case</span> <span class="token builtin">float32</span><span class="token punctuation">:</span>
		iterations <span class="token operator">=</span> <span class="token number">4</span>
	<span class="token keyword">case</span> <span class="token builtin">float64</span><span class="token punctuation">:</span>
		iterations <span class="token operator">=</span> <span class="token number">5</span>
	<span class="token keyword">default</span><span class="token punctuation">:</span>
		<span class="token function">panic</span><span class="token punctuation">(</span>fmt<span class="token punctuation">.</span><span class="token function">Sprintf</span><span class="token punctuation">(</span><span class="token string">&quot;unexpected type %T&quot;</span><span class="token punctuation">,</span> v<span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	<span class="token comment">// Code omitted.</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> MyFloat <span class="token builtin">float32</span>

<span class="token keyword">var</span> G <span class="token operator">=</span> <span class="token function">NewtonSqrt</span><span class="token punctuation">(</span><span class="token function">MyFloat</span><span class="token punctuation">(</span><span class="token number">64</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p>è¿™é‡Œçº¦æŸ Floatæ‹¥æœ‰çš„çº¦æŸç±»å‹æ˜¯ <code>~float32</code> å’Œ <code>float64</code>å½“åœ¨switchä¸­å®šä¹‰äº†float32å’Œflaot64æ—¶ï¼Œæ— æ³•è¯†åˆ«ä¸‹é¢çš„æ–°ç±»å‹ MyFloatå³ä½¿å®ƒçš„åº•å±‚æ—¶ float32 ï¼Œgoçš„æè®®æ˜¯ä»¥ååœ¨switchä¸­ä½¿ç”¨ <code>case ~float32:</code> æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œç›®å‰å°šæœªè§£å†³è¿™ä¸ªé—®é¢˜</p><p><em><strong>é—®é¢˜ä¸‰ï¼š</strong></em> å³ä¾¿çº¦æŸä¸€è‡´ï¼Œç±»å‹ä¹Ÿæ˜¯ä¸åŒçš„</p><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">func</span> Copy<span class="token punctuation">[</span>T1<span class="token punctuation">,</span> T2 any<span class="token punctuation">]</span><span class="token punctuation">(</span>dst <span class="token punctuation">[</span><span class="token punctuation">]</span>T1<span class="token punctuation">,</span> src <span class="token punctuation">[</span><span class="token punctuation">]</span>T2<span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">{</span>
	<span class="token keyword">for</span> i<span class="token punctuation">,</span> x <span class="token operator">:=</span> <span class="token keyword">range</span> src <span class="token punctuation">{</span>
		<span class="token keyword">if</span> i <span class="token operator">&gt;</span> <span class="token function">len</span><span class="token punctuation">(</span>dst<span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> i
		<span class="token punctuation">}</span>
		dst<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">T1</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token comment">// x æ˜¯ T2ç±»å‹ ä¸èƒ½ç›´æ¥è½¬åŒ–ä¸º T1ç±»å‹</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> <span class="token function">len</span><span class="token punctuation">(</span>src<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>T1,å’ŒT2 è™½ç„¶éƒ½æ˜¯anyçš„çº¦æŸï¼Œä½†æ˜¯å•Šï¼Œå®ƒä¸æ˜¯ä¸€ä¸ªç±»å‹å•Šï¼</p><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code>Copy<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">,</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// è¿™ç§æƒ…å†µä¸‹ï¼Œä½ èƒ½è¯´å¯ä»¥ç›´æ¥è½¬åŒ–å—ï¼Ÿï¼Ÿï¼Ÿ</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>è¿™ç§ä»£ç å¯ä»¥æ›´æ”¹ä¸€ä¸‹</p><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code>dst<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">interface</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token punctuation">(</span>T1<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>ç¡®è®¤æ˜¯ä¸€ç§ç±»å‹ä»¥åæ‰èƒ½è½¬åŒ–</p><h2>å‚è€ƒèµ„æ–™</h2><ul><li>https://coolshell.cn/articles/21615.html</li><li>https://go.dev/doc/tutorial/generics</li><li>https://colobu.com/2021/08/30/how-is-go-generic-implemented/</li><li>https://go.googlesource.com/proposal/+/refs/heads/master/design/43651-type-parameters.md</li><li>https://quii.gitbook.io/learn-go-with-tests/go-fundamentals/generics</li></ul><!--]--></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: shgopher@foxmail.com">shgopher</span><!----><!--]--><!--]--></span></div></footer><!----><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/GOFamily/assets/app.1caf3c2c.js" defer></script>
  </body>
</html>
